<template>
  <view class="guide-page">
    <!-- å¤´éƒ¨å¯¼èˆª -->
    <view class="nav-header">
      <view class="nav-back" @click="goBack">
        <text class="back-icon">â†</text>
      </view>
      <text class="nav-title">æ“ä½œæŒ‡å—</text>
      <view class="nav-placeholder"></view>
    </view>

    <!-- ä¸»è¦å†…å®¹ -->
    <scroll-view class="content-scroll" scroll-y>
      <!-- æ¬¢è¿å¡ç‰‡ -->
      <view class="welcome-card">
        <view class="welcome-icon">âœ¨</view>
        <text class="welcome-title">è¶…è¯¦ç»†æ”»ç•¥æ¥å•¦ï¼</text>
        <text class="welcome-desc">å§å¦¹ä»¬ï¼Œè·¨å¢ƒå¯„åŒ…è£¹å†ä¹Ÿä¸è¸©å‘ï½</text>
      </view>

      <!-- æ­¥éª¤åˆ—è¡¨ -->
      <view class="steps-section">
        <view class="section-title">
          <text class="title-emoji">ğŸ“</text>
          <text class="title-text">å¯„ä»¶æµç¨‹</text>
        </view>

        <!-- æ­¥éª¤1 -->
        <view class="step-card">
          <view class="step-header">
            <view class="step-number">1</view>
            <text class="step-title">è·å–ä¸“å±åœ°å€</text>
            <view class="step-tag hot">è¶…é‡è¦</view>
          </view>
          <view class="step-content">
            <text class="step-desc">ğŸ‘‰ è¿›å…¥ã€æˆ‘çš„ã€‘â†’ã€ä»“åº“åœ°å€ã€‘</text>
            <text class="step-desc">ğŸ‘‰ å¤åˆ¶ä½ çš„ä¸“å±åœ°å€å’Œæ”¶ä»¶äººä¿¡æ¯</text>
            <text class="step-desc">ğŸ‘‰ ç”¨è¿™ä¸ªåœ°å€å‘ä»“åº“é‚®å¯„åŒ…è£¹</text>
            <view class="step-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">è®°å¾—å‘Šè¯‰ä»“åº“å°å“¥å“¥ä½ çš„åœ°å€å“¦ï½</text>
            </view>
          </view>
        </view>

        <!-- æ­¥éª¤2 -->
        <view class="step-card">
          <view class="step-header">
            <view class="step-number">2</view>
            <text class="step-title">åŒ…è£¹é¢„æŠ¥</text>
            <view class="step-tag">å¿…åš</view>
          </view>
          <view class="step-content">
            <text class="step-desc">ğŸ“¦ åŒ…è£¹å¯„å‡ºåç«‹å³é¢„æŠ¥</text>
            <text class="step-desc">ğŸ“± å¾®ä¿¡å…³æ³¨ã€ä¸­éŸ©è·¨å¢ƒé‚®ã€‘</text>
            <text class="step-desc">ğŸ” ç‚¹å‡»ã€é›†è¿æœåŠ¡ã€‘â†’ã€åŒ…è£¹é¢„æŠ¥ã€‘</text>
            <view class="step-warning">
              <text class="warning-icon">âš ï¸</text>
              <text class="warning-text">ä¸æ”¯æŒä¸€ä¸ªå¿«é€’æ‹†åˆ†å¤šä¸ªè®¢å•ç»™ä¸åŒæ”¶ä»¶äºº</text>
            </view>
          </view>
        </view>

        <!-- æ­¥éª¤3 -->
        <view class="step-card">
          <view class="step-header">
            <view class="step-number">3</view>
            <text class="step-title">å¡«å†™ä¿¡æ¯</text>
            <view class="step-tag">ä»”ç»†</view>
          </view>
          <view class="step-content">
            <text class="step-subtitle">ğŸ“‹ é¢„æŠ¥æ—¶éœ€è¦å¡«å†™ï¼š</text>
            <view class="info-list">
              <view class="info-item">
                <text class="info-dot">â€¢</text>
                <text class="info-text">å¿«é€’å•å·ï¼ˆè¦å‡†ç¡®å“¦ï¼‰</text>
              </view>
              <view class="info-item">
                <text class="info-dot">â€¢</text>
                <text class="info-text">å•†å“è¯¦ç»†ä¿¡æ¯</text>
              </view>
              <view class="info-item">
                <text class="info-dot">â€¢</text>
                <text class="info-text">ä»·æ ¼ç”¨äººæ°‘å¸ï¼ˆå¦‚å®å¡«å†™ï¼‰</text>
              </view>
            </view>
          </view>
        </view>

        <!-- æ­¥éª¤4 -->
        <view class="step-card">
          <view class="step-header">
            <view class="step-number">4</view>
            <text class="step-title">å…¥åº“ç¡®è®¤</text>
            <view class="step-tag success">è‡ªåŠ¨</view>
          </view>
          <view class="step-content">
            <text class="step-desc">ğŸ“¸ ä»“åº“ä¼šæ‹ç…§éªŒè´§</text>
            <text class="step-desc">ğŸ“¨ å¾®ä¿¡å…¬ä¼—å·æ¨é€å…¥åº“æ¶ˆæ¯</text>
            <text class="step-desc">ğŸ‘€ ç‚¹å‡»æŸ¥çœ‹å…¥åº“è¯¦æƒ…</text>
            <view class="step-note">
              <text class="note-text">å¦‚æœé€‰æ‹©äº†æ‹†åŒ…æ£€æŸ¥æœåŠ¡ï¼Œä¼šæœ‰è¯¦ç»†æ‹†åŒ…ç…§ç‰‡</text>
            </view>
          </view>
        </view>

        <!-- æ­¥éª¤5 -->
        <view class="step-card">
          <view class="step-header">
            <view class="step-number">5</view>
            <text class="step-title">å‘è´§å‡ºåº“</text>
            <view class="step-tag final">æœ€å</view>
          </view>
          <view class="step-content">
            <text class="step-desc">ğŸšš ä»“åº“æŒ‰è¦æ±‚æ”¶è´§æ‰“åŒ…</text>
            <text class="step-desc">ğŸ“¤ ç‚¹å‡»ã€é›†è¿å‘è´§ã€‘â†’ã€ä¸‹å•å‘è¿ã€‘</text>
            <text class="step-desc">ğŸ¯ æŒ‡å®šåŒ…è£¹å’Œæ”¶è´§åœ°å€</text>
            <text class="step-desc">ğŸ›« æ¬¡æ—¥å³å¯åˆ°è¾¾éŸ©å›½æ¸…å…³</text>
          </view>
        </view>
      </view>

      <!-- æ³¨æ„äº‹é¡¹ -->
      <view class="tips-section">
        <view class="section-title">
          <text class="title-emoji">âš ï¸</text>
          <text class="title-text">æ³¨æ„äº‹é¡¹</text>
        </view>

        <view class="tips-grid">
          <view class="tip-card">
            <text class="tip-title">ğŸ’° ä»·æ ¼å¡«å†™</text>
            <text class="tip-content">å¿…é¡»å¦‚å®å¡«å†™ï¼Œè™šæŠ¥ä¼šå¯¼è‡´æ‰£è´§æˆ–ç½šæ¬¾</text>
          </view>

          <view class="tip-card">
            <text class="tip-title">ğŸ“¦ æ‹†åŒ…æœåŠ¡</text>
            <text class="tip-content">æ”¶è´¹å¢å€¼æœåŠ¡ï¼Œå¯é€‰æ‹©æ˜¯å¦å¼€é€š</text>
          </view>

          <view class="tip-card">
            <text class="tip-title">ğŸ“‹ å•†å“åˆ†ç±»</text>
            <text class="tip-content">å¤šç§å•†å“è¦åˆ†åˆ«å½•å…¥ï¼Œä¸èƒ½æ··åˆç”³æŠ¥</text>
          </view>

          <view class="tip-card">
            <text class="tip-title">ğŸš« ç¦è¿ç‰©å“</text>
            <text class="tip-content">æŸ¥çœ‹ç¦è¿æ¸…å•ï¼Œé¿å…è¿ç¦ç‰©å“</text>
          </view>
        </view>
      </view>

      <!-- å¿«æ·å…¥å£ -->
      <view class="quick-actions">
        <view class="section-title">
          <text class="title-emoji">ğŸš€</text>
          <text class="title-text">å¿«æ·æ“ä½œ</text>
        </view>

        <view class="action-grid">
          <view class="action-item" @click="openWechat">
            <view class="action-icon wechat">ğŸ“±</view>
            <text class="action-text">å…³æ³¨å…¬ä¼—å·</text>
          </view>

          <view class="action-item" @click="checkProhibited">
            <view class="action-icon prohibited">ğŸš«</view>
            <text class="action-text">ç¦è¿æ¸…å•</text>
          </view>

          <view class="action-item" @click="calculatePrice">
            <view class="action-icon calculator">ğŸ’°</view>
            <text class="action-text">è¿è´¹è®¡ç®—</text>
          </view>

          <view class="action-item" @click="contactService">
            <view class="action-icon service">ğŸ’¬</view>
            <text class="action-text">è”ç³»å®¢æœ</text>
          </view>
        </view>
      </view>

      <!-- åº•éƒ¨å®‰å…¨è·ç¦» -->
      <view class="bottom-safe"></view>
    </scroll-view>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const goBack = () => {
  uni.navigateBack()
}

const openWechat = () => {
  uni.showToast({
    title: 'è¯·åœ¨å¾®ä¿¡ä¸­æœç´¢"ä¸­éŸ©è·¨å¢ƒé‚®"',
    icon: 'none',
    duration: 2000
  })
}

const checkProhibited = () => {
  uni.showToast({
    title: 'è·³è½¬åˆ°ç¦è¿æ¸…å•',
    icon: 'none'
  })
}

const calculatePrice = () => {
  uni.navigateTo({
    url: '/pages/calculator/calculator'
  })
}

const contactService = () => {
  uni.makePhoneCall({
    phoneNumber: '0631-5230850'
  })
}
</script>

<style scoped>
/* é¡µé¢å®¹å™¨ */
.guide-page {
  min-height: 100vh;
  width: 100vw;
  max-width: 100vw;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  overflow-x: hidden;
  box-sizing: border-box;
}

/* å¤´éƒ¨å¯¼èˆª */
.nav-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 60rpx 30rpx 30rpx;
  position: sticky;
  top: 0;
  z-index: 100;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20rpx);
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

.nav-back {
  width: 60rpx;
  height: 60rpx;
  border-radius: 20rpx;
  background: rgba(255, 255, 255, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
}

.back-icon {
  font-size: 32rpx;
  color: white;
  font-weight: bold;
}

.nav-title {
  font-size: 36rpx;
  font-weight: 600;
  color: white;
}

.nav-placeholder {
  width: 60rpx;
}

/* å†…å®¹æ»šåŠ¨åŒº */
.content-scroll {
  height: calc(100vh - 150rpx);
  padding: 0 30rpx;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

/* æ¬¢è¿å¡ç‰‡ */
.welcome-card {
  background: white;
  border-radius: 32rpx;
  padding: 50rpx;
  text-align: center;
  margin-bottom: 40rpx;
  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.1);
}

.welcome-icon {
  font-size: 80rpx;
  margin-bottom: 20rpx;
}

.welcome-title {
  font-size: 32rpx;
  font-weight: 700;
  color: #2c3e50;
  display: block;
  margin-bottom: 12rpx;
}

.welcome-desc {
  font-size: 26rpx;
  color: #7f8c8d;
  display: block;
}

/* æ­¥éª¤åŒºåŸŸ */
.steps-section {
  margin-bottom: 40rpx;
}

.section-title {
  display: flex;
  align-items: center;
  margin-bottom: 30rpx;
}

.title-emoji {
  font-size: 40rpx;
  margin-right: 16rpx;
}

.title-text {
  font-size: 32rpx;
  font-weight: 600;
  color: white;
}

/* æ­¥éª¤å¡ç‰‡ */
.step-card {
  background: white;
  border-radius: 24rpx;
  padding: 32rpx;
  margin-bottom: 24rpx;
  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);
}

.step-header {
  display: flex;
  align-items: center;
  margin-bottom: 24rpx;
}

.step-number {
  width: 60rpx;
  height: 60rpx;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  font-size: 24rpx;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 20rpx;
}

.step-title {
  font-size: 28rpx;
  font-weight: 600;
  color: #2c3e50;
  flex: 1;
}

.step-tag {
  padding: 8rpx 16rpx;
  border-radius: 20rpx;
  font-size: 20rpx;
  font-weight: 500;
}

.step-tag.hot {
  background: #ff6b6b;
  color: white;
}

.step-tag:not(.hot):not(.success):not(.final) {
  background: #ffa726;
  color: white;
}

.step-tag.success {
  background: #4ecdc4;
  color: white;
}

.step-tag.final {
  background: #a8e6cf;
  color: #2c3e50;
}

.step-content {
  padding-left: 80rpx;
}

.step-desc {
  font-size: 26rpx;
  color: #34495e;
  line-height: 1.6;
  margin-bottom: 12rpx;
  display: block;
}

.step-subtitle {
  font-size: 24rpx;
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 16rpx;
  display: block;
}

/* ä¿¡æ¯åˆ—è¡¨ */
.info-list {
  background: rgba(102, 126, 234, 0.05);
  border-radius: 16rpx;
  padding: 20rpx;
  margin: 16rpx 0;
}

.info-item {
  display: flex;
  align-items: flex-start;
  margin-bottom: 8rpx;
}

.info-dot {
  color: #667eea;
  font-size: 24rpx;
  font-weight: bold;
  margin-right: 12rpx;
  margin-top: 4rpx;
}

.info-text {
  font-size: 24rpx;
  color: #34495e;
  line-height: 1.5;
  flex: 1;
}

/* æç¤ºæ¡† */
.step-tip {
  display: flex;
  align-items: center;
  background: rgba(255, 193, 7, 0.1);
  border-left: 4rpx solid #ffc107;
  padding: 16rpx;
  border-radius: 0 12rpx 12rpx 0;
  margin-top: 16rpx;
}

.tip-icon {
  font-size: 24rpx;
  margin-right: 12rpx;
}

.tip-text {
  font-size: 22rpx;
  color: #795548;
  flex: 1;
}

/* è­¦å‘Šæ¡† */
.step-warning {
  display: flex;
  align-items: center;
  background: rgba(244, 67, 54, 0.1);
  border-left: 4rpx solid #f44336;
  padding: 16rpx;
  border-radius: 0 12rpx 12rpx 0;
  margin-top: 16rpx;
}

.warning-icon {
  font-size: 24rpx;
  margin-right: 12rpx;
}

.warning-text {
  font-size: 22rpx;
  color: #d32f2f;
  flex: 1;
  font-weight: 500;
}

/* æ³¨é‡Š */
.step-note {
  background: rgba(158, 158, 158, 0.1);
  border-radius: 12rpx;
  padding: 16rpx;
  margin-top: 16rpx;
}

.note-text {
  font-size: 22rpx;
  color: #7f8c8d;
  line-height: 1.4;
}

/* æ³¨æ„äº‹é¡¹ç½‘æ ¼ */
.tips-section {
  margin-bottom: 40rpx;
}

.tips-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20rpx;
}

.tip-card {
  background: white;
  border-radius: 20rpx;
  padding: 24rpx;
  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);
}

.tip-title {
  font-size: 24rpx;
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 12rpx;
  display: block;
}

.tip-content {
  font-size: 22rpx;
  color: #7f8c8d;
  line-height: 1.4;
  display: block;
}

/* å¿«æ·æ“ä½œ */
.quick-actions {
  margin-bottom: 40rpx;
}

.action-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20rpx;
}

.action-item {
  background: white;
  border-radius: 20rpx;
  padding: 32rpx 24rpx;
  text-align: center;
  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
}

.action-item:active {
  transform: scale(0.96);
}

.action-icon {
  width: 80rpx;
  height: 80rpx;
  border-radius: 24rpx;
  margin: 0 auto 16rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 40rpx;
}

.action-icon.wechat {
  background: linear-gradient(135deg, #07c160, #00d976);
}

.action-icon.prohibited {
  background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
}

.action-icon.calculator {
  background: linear-gradient(135deg, #ffe66d, #ffbe0b);
}

.action-icon.service {
  background: linear-gradient(135deg, #667eea, #764ba2);
}

.action-text {
  font-size: 24rpx;
  font-weight: 500;
  color: #2c3e50;
}

.bottom-safe {
  height: 60rpx;
}

/* å“åº”å¼ */
@media (max-width: 400px) {
  .tips-grid,
  .action-grid {
    grid-template-columns: 1fr;
  }
  
  .step-content {
    padding-left: 0;
    margin-top: 20rpx;
  }
}
</style>
